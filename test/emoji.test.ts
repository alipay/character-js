import { expect } from 'chai';
import { getRegExpEmoji, hasEmoji, matchEmoji } from '../src/emoji';
import { describe, it } from 'mocha';

const fs = require('fs');
const data = fs.readFileSync('test/emoji-test.txt');
const str = data.toString();

const typeArr = str.match(/(?<=#).*?(?=E)/g);

const emojiTestArr: string[] = [];
typeArr.forEach((u) => {
  return u && emojiTestArr.push(u.trim());
});

describe('emoji', () => {
  it('è¯†åˆ«emoji', async () => {
    const str1 = 'dg8713te78tgaudhwiqutdi@#^*$@%*?><"{::adagugdiAS}{+)~';
    const bol1 = getRegExpEmoji()?.test(str1);
    // æ•°å­—äº•å·æ˜Ÿå·ä¸å†åˆ’åˆ†ä¸ºè¡¨æƒ…
    expect(bol1).to.equal(false);

    // æµ‹è¯•æ±‰å­—æ˜¯ä¸æ˜¯emoji
    const xhStr = 'ä¸€äºŒä¸‰å¥µå¥ºå¥»å¥¼å¥¾å¥¿å¦€å¦å¦…å¦‰å¦Šå¦‹å¦Œå¦å¦Žå¦å¦å¦‘å¦”å¦•å¦—å¦˜å¦šå¦›å¦œå¦Ÿå¦ å¦¡å¦¢å¦¤å¦¦å¦§å¦©å¦«å¦­å¦®å¦¯å¦°å¦±å¦²å¦´å¦µå¦¶å¦·å¦¸å¦ºå¦¼å¦½å¦¿å§€å§å§‚å§ƒå§„å§…å§†å§‡å§ˆå§‰å§Šå§Œå§—å§Žå§å§’å§•å§–å§˜å§™å§›å§å§žå§Ÿå§ å§¡å§¢å§£å§¤å§¥å¥¸å§§å§¨å§©å§«å§¬å§­å§®å§¯å§°å§±å§²å§³å§´å§µå§¶å§·å§¸å§¹å§ºå§»å§¼å§½å§¾å¨€å¨å¨‚å¨…å¨†å¨ˆå¨‰å¨Šå¨‹å¨Œå¨å¨Žå¨å¨å¨‘å¨’å¨“å¨”å¨•å¨–å¨—å¨™å¨šå¨±å¨œå¨å¨žå¨Ÿå¨ å¨¡å¨¢å¨£å¨¤å¨¥å¨¦å¨§å¨¨å¨©å¨ªå¨«å¨¬å¨­å¨®å¨¯å¨°å¨±å¨²å¨³å¨´å¨µå¨·å¨¸å¨¹å¨ºå¨»å¨½å¨¾å¨¿å©€å¨„å©‚å©ƒå©„å©…å©‡å©ˆå©‹å©Œå©å©Žå©å©å©‘å©’å©“å©”å©•å©–å©—å©˜å©™å©›å©œå©å©žå©Ÿå© å©¡å©¢å©£å©¤å©¥å¦‡å©§å©¨å©©å©ªå©«å¨…å©®å©¯å©°å©±å©²å©³å©µå©·å©¸å©¹å©ºå©»å©¼å©½å©¾å©¿åª€åªåª‚åª„åªƒåª…åªªåªˆåª‰åªŠåª‹åªŒåªåªŽåªåªåª‘åª’åª“åª”åª•åª–åª—åª˜åª™åªšåª›åªœåªåªœåªžåªŸåª åª¡åª¢åª£åª¤åª¥åª¦åª¨åª©åªªåª«åª¬åª­å¦«åª°åª±åª²åª³åª´åªµåª¶åª·åª¸åª¹åªºåª»åªªåª¾å«€å«ƒå«„å«…å«†å«‡å«ˆå«‰å«Šè¢…å«Œå«å«Žå«å«å«‘å«’å«“å«”å«•å«–å¦ªå«˜å«™å«šå«›å«œå«å«žå«Ÿå« å«¡å«¢å«£å«¤å«¥å«¦å«§å«¨å«§å«©å«ªå««å«¬å«­å«®å«¯å«°å«±å«²å«³å«´å«³å¦©å«¶å«·å«¸å«¹å«ºå¨´å«¼å«½å«¾å©³å¦«å¬å¬‚å¬ƒå¬„å¬…å¬†å¬‡å¨†å¬‰å¬Šå¨‡å¬å¬Žå¬å¬å¬‘å¬’å¬“å¬”å¬•å¬–å¬—å¬˜å«±å¬šå¬›å¬œå¬žå¬Ÿå¬ å«’å¬¢å¬£å¬¥å¬¦å¬§æƒ”æ„”å¿‡å¿ˆå¿‰å¿Šå¿‹å¿Žå¿å¿å¿‘å¿’å¿“å¿”å¿•å¿–å¿šå¿›å¿œå¿å¿žå¿Ÿå¿¡å¿¢å¿£å¿¥å¿¦å¿¨å¿©å¿ªå¿¬å¿­å¿®å¿¯å¿°å¿±å¿²å¿³å¿´å¿µå¿¶æ±¹å¿¸å¿¹å¿ºå¿»å¿¼å¿¾å¿¿æ€‚æ€ƒæ€„æ€…æ€†æ€‡æ€ˆæ€‰æ€Šæ€‹æ€Œæ€æ€æ€æ€‘æ€“æ€”æ€—æ€˜æ€™æ€šæ€›æ€žæ€Ÿæ€¡æ€¢æ€£æ€¤æ€¦æ€©æ€«æ€¬æ€­æ€®æ€¯æ€°æ€²æ€³æ€´æ€µæ€¶æ€·æ€¸æ€¹æ€ºæ€¼æ‚™æ€¿æ€ææ‚æƒæ„æ…æ’æ‡æˆæ‰æŠæŒææŽææ‘æ’æ“æ”æ–æ—æ˜æ™æšæ›æœææžæ æ¡æ¦æ§æ«æ¬æ®æ°æ±æ²æ´æ·æ¹æºæ»æ½æ¾æ¿æ‚€æ‚æ‚‚æ‚ƒæ‚†æ‚‡æ‚ˆæ‚Šæ‚‹æ‚Œæ‚æ‚Žæ‚æ‚æ‚‘æ‚’æ‚“æ‚•æ‚–æ‚—æ‚˜æ‚™æ‚šæ‚›æ‚œæ‚æ‚žæ‚Ÿæ‚¡æ‚¢æ‚¤æ‚¥æ‚§æ‚©æ‚ªæ‚«æ‚­æ‚®æ‚°æ‚±æ‚³æ‚´æ‚·æ‚¹æ‚ºæ‚»æ‚¼æ‚¾æ‚¿æƒ€æƒæƒ‚æƒƒæƒ„æƒ†æƒˆæƒ‰æƒŠæƒ‹æƒŒæƒæƒŽæƒæƒæƒ‘æƒ’æƒ“æƒ”æƒ•æƒ–æƒ—æƒ˜æƒ™æƒšæƒ›æƒœæƒæƒžæƒ æ¶æƒ¢æƒ£æƒ¤æƒ¥æƒ¦æƒ§æƒ¨æƒ©æƒªæƒ«æƒ¬æƒ®æ¼æ½æƒ´æƒµæƒ¶æƒ¸æƒºæƒ¼æƒ½æƒ¾æƒ¿æ„€æ„‚æ„ƒæ„„æ„…æ„†æ„‡æ„‰æ„Šæ„‹æ„Œæ„æ„Žæ„æ„‘æ„’æ„“æ„•æ„–æ„—æ„˜æ„™æ„æ„žæ„ æ„¡æ„¢æ„£æ„¥æ„¦æ„§æ„©æ„ªæ„«æ„¬æ„­æ„®æ„¯æ„°æ„±æ„²æ„³æ€†æ„µæ„¶æºæ„¸æ„¹æ„ºæ„»æ„¼æ„½å¿¾æ„¿æ…€æ…æ…‚æ…ƒæ —æ……æ…†æ…ˆæ…‰æ…Šæ€æ…æ…æ…‘æ…’æ…“æ…”æ…–æ…—æƒ¨æ…™æƒ­æ…›æ…œæ…æ…žæ¸æ… æ…¡æ…¢æ…¥æ…¦æ…§æ…¨æ…©æ€„æ€‚æ…¬æ‚¯æ…¯æ…°æ…²æ‚­æ…´æ…µæ…·æ…¸æ…¹æ…ºæ…»æ…½æ…¿æ†€æ†å¿§æ†ƒæ†„æ†…æ††æ†‡æ†ˆæ†‰æƒ«æ†‹æ†Œæ†æ†Žæ†æ€œæ†“æ†”æ†•æ†–æ†—æ†˜æ†™æ†›æ†œæ†æ†žæ†Ÿæ† æ†¡æ†¢æ†£æ„¤æ†¥æ†¦æ†§æ†¨æ†©æ†ªæ†¬æ†­æ€ƒæ†¯æ†°æ†±æ†³æ†´æ†µå¿†æ†·æ†¸æ†¹æ†ºæ†»æ†¼æ†½æ†¾æ†¿æ‡€æ‡æ‡‚æ‡„æ‡…æ‡†æ³æ‡ˆæ‡Šæ‡‹æ€¿æ‡”æ‡Žæ‡æ‡æ‡‘æ‡“æ‡”æ‡•æ‡–æ‡—æ‡˜æ‡™æ‡šæŽ‚æ‰«æŠ¡æŽ…æŽ†æŽ‡æŽˆæŽ‰æŽŠæŽ‹æŽæŽŽæŽæŽ‘æŽ’æŽ“æŽ”æŽ•æŒœæŽ–æŽ˜æŒ£æŽšæŒ‚æŽœæŽæŽžæŽŸæŽ é‡‡æŽ¢æŽ£æŽ¤æŽ¦æŽªæŽ«æŽ¬æŽ­æŽ®æŽ¯æŽ°æŽ±æŽ²æŽ³æŽ´æŽµæŽ¶æŽ¸æŽ¹æŽºæŽ»æŽ¼æŽ½æŽ¾æŽ¿æ‹£ææ‚æƒæ…æ„æ†æ‡æˆæ‰æŠæ‹æŒææŽæ‘æ“æ”æ•æ–æ—æ˜æ™æœææžæŸæ æ¢æ¤æ¥æ¦æ§æ¨æ«æ‚æ°æ±æ²æ³æ´æµæ¶æ·æ¸æ»æ¼æ¾æ¿æ€ææ‚æƒæ„æ…æ‡æˆæ‰æŠæ‹æŒæŽæææ‘æ’æ“æ”æ•æ˜æ™æšæ›ææ“€æ æ¡æ¢æ£æ¤æ¶æ¦æ§æ¨æ©æªæ«æ¬æ®æ°æ±æ²æ³æ´æµæ·æ¸æ¹æ»æ¼æ½æ¦¨æ¿æ‘‚æ‘…æ‘ˆæ‘‰æ‘‹æ‘Œæ‘æ‘Žæ‘æ‘æŽ´æ‘’æ‘“æ‘”æ‘•æ‘–æ‘—æ‘™æ‘šæ‘›æŽ¼æ‘æ‘žæ‘ æ‘¡æ‘¢æ¸æ‘¤æ‘¥æ‘¦æ‘§æ‘¨æ‘ªæ‘«æ‘¬æ‘­æ‘®æŒšæ‘°æ‘±æ‘²æŠ æ‘´æ‘µæŠŸæ‘·æ‘¹æ‘ºæŽºæ‘¼æ‘½æ‘¾æ‘¿æ’€æ’æ’‚æ’ƒæ’„æ’…æ’‰æ’Šæ’‹æ’Œæ’æ’ŽæŒ¦æŒ æ’’æŒ æ’”æ’–æ’—æ’˜æ’™æ»æ’›æ’œæ’æŒ¢æ’ æ’¡æŽ¸æŽ¸æ’§æ’¨æ’©æ’ªæ’¬æ’®æ’¯æ’±æ¿æ’´æ’µæ’¶æ’·æ’¸æ’¹æ’ºæŒžæ’¼æ’½æŒæ“€æ“ƒæŽ³æ“…æ“†æ“ˆæ“‰æ“Œæ“Žæ“æ“æ“‘æ““æ“•æ“–æ“—æ“˜æ“™æ“›æ“œæ“æ“žæ“Ÿæ“¡æ“¢æ“¤æ“¥æ“§æ“¨æ“©æ“ªæ“«æ“­æ“®æ‘ˆæ“³æ“µæ“¶æ’·æ“¸æ“¹æ“½æ“¿æ”æ”‚æ”ƒæ‘…æ”…æ’µæ”‡æ”ˆæ”‰æ”Šæ”‹æ”Œæ”æ”Žæ‹¢æ”æ”‘æ”’æ”“æ”•æ’„æ”—æ”˜æ€æ”šæ’ºæ”žæ”Ÿæ” æ”¡æ”’æŒ›æ”¥æ”¦æ”§æ”¨æ”©æ…æ”«æ”­æ”®æ‡›æ‡œæ‡æ€¼æ‡ æ‡¡æ‡¢æ‡‘æ‡¤æ‡¥æ‡¦æ‡§æ¹æ‡©æ‡ªæ‡«æ‡¬æ‡­æ‡®æ‡¯æ‡°æ‡±æƒ©æ‡³æ‡´æ‡µæ‡’æ€€æ‚¬æ‡¹å¿æ‡»æƒ§æ‡½æ…‘æ‡¿æ‹æˆæˆ‚æˆƒæˆ„æˆ…æˆ†æ‡¯å¬¨å¬©å«”å¬«å¬¬å¥¶å¬¬å¬®å¬¯å©´å¬±å¬²å¬³å¬´å¬µå¬¶å¬·å©¶å¬¹å¬ºå¬»å¬¼å¬½å¬¾å¬¿å­€å­å­‚å¨˜å­„å­…å­†å­‡å­†å­ˆå­‰å­Šå¨ˆå­‹å­Šå­å­Žå­å««å©¿åªš';
    const xhBol = hasEmoji(xhStr);
    expect(xhBol).to.equal(false);

    // æµ‹è¯•è‹±æ–‡å­—æ¯æ˜¯ä¸æ˜¯emoji
    const zmStr = 'abcdefghijklumnopqrstvuwxyz';
    const zmBol = hasEmoji(zmStr);
    expect(zmBol).to.equal(false);

    // æµ‹è¯•æ•°å­—æ˜¯ä¸æ˜¯emoji
    const szStr = '01234567889';
    const szBol = hasEmoji(szStr);
    expect(szBol).to.equal(false);

    // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦æ˜¯ä¸æ˜¯emoji
    const zfStr = '@#ï¿¥%â€¦â€¦&*ï¼ˆï¼Ÿã€‹ã€Šï¼šâ€œ';
    const zfBol = hasEmoji(zfStr);
    expect(zfBol).to.equal(false);

    // é”®å¸½+å˜ä½“ æ˜¯è¡¨æƒ…
    const bol11 = getRegExpEmoji()?.test(`${str1}5ï¸âƒ£`);
    expect(bol11).to.equal(true);

    // å˜ä½“çš„è¯†åˆ« â˜¯ = 262f + fe0f
    const va = matchEmoji(`${str1}â˜¯ï¸`, 'g');
    va && expect(va[0]).to.equal('â˜¯ï¸');

    // å˜ä½“çš„è¯†åˆ« â˜¯ = 262f
    const va1 = matchEmoji(`${str1}â˜¯`, 'g');
    va1 && expect(va1[0]).to.equal('â˜¯');

    // åŸºç¡€çš„emojiè¯†åˆ«æµ‹è¯•
    const isEmoji = hasEmoji(`${str1}âŒ`);
    expect(isEmoji).to.equal(true);

    const noEmoji = hasEmoji(str1);
    expect(noEmoji).to.equal(false);

    const emojiTestText = 'ðŸ˜† ðŸ˜Š ðŸ˜— ðŸ¥² ðŸ˜œ ðŸ¤‘ ðŸ«¢ ðŸ«¡ ðŸ˜‘ ðŸ™„ ðŸ˜” ðŸ˜´ ðŸ¤¢ ðŸ¥¶ ðŸ¤  ðŸ¥¸ ðŸ˜Ž ðŸ§ ðŸ˜Ÿ ðŸ˜¨ ðŸ˜– ðŸ˜– ðŸ‘¿ â˜ ï¸ ðŸ‘¹ ðŸ‘¾ ðŸ˜¹ ðŸ˜¿ ðŸ™ˆ ðŸ™Š ðŸ’– ðŸ’” ðŸ’› ðŸ’¯ ðŸ’¬ ðŸ—¯ï¸ ðŸ‘‹ðŸ¿ ðŸ–ðŸ½ ðŸ«±ðŸ¾ ðŸ«´ðŸ» ðŸ‘ŒðŸ¿ ðŸ¤˜ ðŸ‘‰ðŸ¼ ðŸ«µðŸ¾ ðŸ¤› ðŸ‘ ðŸ¤ðŸ½ ðŸ™ðŸ¿ ðŸ¤³ðŸ¾ ðŸ’…ðŸ» ðŸ‘‚ ðŸ‘ƒðŸ¼ ðŸ‘… ðŸ§’ðŸ¿ ðŸ‘¨ðŸ¼ ðŸ‘¨ðŸ¿â€ðŸ¦° ðŸ‘©ðŸ»â€ðŸ¦° ðŸ‘©ðŸ½â€ðŸ¦³ ðŸ‘´ðŸ½ ðŸ™ðŸ½â€â™‚ ðŸ™ŽðŸ»â€â™€ï¸ ðŸ™†ðŸ½â€â™€ ðŸ™‹ðŸ½â€â™‚ï¸ ðŸ™‡ðŸ¿â€â™€ ðŸ¤·ðŸ½â€â™€ï¸ ðŸ‘¨â€âš•ï¸ ðŸ‘¨ðŸ»â€ðŸ« ðŸ‘¨ðŸ½â€âš–ï¸ ðŸ‘©â€ðŸŒ¾ ðŸ§‘ðŸ¼â€ðŸ’» ðŸ‘©ðŸ»â€ðŸŽ¨ ðŸ‘©ðŸ»â€ðŸš€ ðŸ•µðŸ¼â€â™‚ ðŸ‘·â€â™€ï¸ ðŸ‘²ðŸ¼ ðŸ‘©â€ðŸ¼ ðŸ¦¸ðŸ¾â€â™‚ï¸ ðŸ§™ðŸ¿ ðŸ§šðŸ¼â€â™€ ðŸ§œ ðŸ§žâ€â™‚ ðŸ’†ðŸ¾â€â™€ ðŸš¶ðŸ¿â€â™€ ðŸ‘¨â€ðŸ¦¼ ðŸ‘¯â€â™‚ ðŸ§—ðŸ¾â€â™€ ðŸ‚ðŸ» ðŸ„ ðŸ„ðŸ¿â€â™€ï¸ ðŸŠðŸ½â€â™‚ï¸ â›¹ðŸ¼â€â™€ï¸ ðŸ‹ðŸ¿â€â™€ ðŸšµðŸ¾â€â™‚ï¸ ðŸ¤¼ ðŸ¤¹ðŸ½ ðŸ›ŒðŸ¿ ðŸ§‘ðŸ¿â€ðŸ¤â€ðŸ§‘ðŸ½ ðŸ’ðŸ» ðŸ‘©ðŸ¿â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨ðŸ¾ ðŸ‘©â€ðŸ‘©â€ðŸ‘¦ ðŸ‘¤ ðŸ¦± ðŸ¶ ðŸ¦£ ðŸ¦¨ ðŸ¤ ðŸª¶ ðŸ² ðŸ¸ ðŸ¦– ðŸ  ðŸª² ðŸŒ¹ ðŸ€ ðŸ’ ðŸ¥¬ ðŸ– ðŸ£ ðŸ¦ ðŸ¥§ ðŸ¸ ðŸ½ ðŸŒ ðŸ–ï¸ ðŸ˜ï¸ â›©ï¸ ðŸŒ† ðŸš ðŸ›³ ðŸš ðŸ›Ž â° ðŸŒ˜ â˜„ï¸ ðŸ§¨ ðŸ… ðŸ¥ ðŸ•¹ ðŸŽ¨ ðŸ‘– ðŸ”Š ðŸŽ™ ðŸŽ¹ â˜Žï¸ ðŸ–¥ï¸ ðŸ“º ðŸ“š ðŸ’¸ ðŸ“« ðŸ–Œï¸ ðŸ—“ ðŸ” ðŸ’£ ðŸ”­ ðŸ©¼ ðŸª’ ðŸ§¿ ðŸš¹ ðŸš³ âž¡ï¸ â˜¯ï¸ â™‘ â®ï¸ âš§ï¸ ðŸŸ° â— ðŸ’² âœ… 1ï¸âƒ£ ðŸ…±ï¸ ðŸŸ£ ðŸ³â€ðŸŒˆ ðŸ‡¦ðŸ‡´ ðŸ‡¿ðŸ‡¼ ðŸ´ó §ó ¢ó ³ó £ó ´ó ¿';
    const emojiStr = 'âŒ ðŸš© ðŸ‡¨ðŸ‡³ ðŸ‡¬ðŸ‡§ ðŸ‡­ðŸ‡° ðŸ‡¸ðŸ‡¬ ðŸ‡¯ðŸ‡µ ðŸ‡ºðŸ‡¸ â­•ï¸ â›”ï¸ ðŸ“› ðŸš« ðŸ’¢ â—ï¸ â“ â‰ï¸ ðŸ”† âš ï¸ âœ… âŽ ðŸŒ ðŸŒ€ ðŸ’¤ â© âª â¬†ï¸ â¬‡ï¸ ðŸŽµ ðŸŽ¶ âž• âž– âž— âœ–ï¸ ðŸ”š ðŸ”™ ðŸ”œ âœ”ï¸ ðŸ”” ðŸ“£ ðŸ“¢ ðŸ’¬ ðŸ’­ ðŸŒµ ðŸŒœ ðŸŒž ðŸŒ› ðŸŒ ðŸŒ— ðŸŒ˜ ðŸŒ™ ðŸŒŽ ðŸŒ ðŸª ðŸ’« â˜„ï¸ ðŸŒª ðŸŒ¤ â›…ï¸ â˜ï¸ ðŸŒ¦ â„ï¸ â„ï¸ â›„ï¸ ðŸ’¨ ðŸŒ¬ ðŸ’§ ðŸ’¦ â˜”ï¸ â˜‚ï¸ ðŸŒŠ ðŸŽ„ ðŸŒ² ðŸŒ³ ðŸŒ´ ðŸŒ± ðŸŒ¿ â˜˜ï¸ ðŸŽ ðŸŽ‹ ðŸ‚ ðŸ ðŸ„ ðŸŒ¾ ðŸŒ· ðŸŒ¹ ðŸ¥€ ðŸŒº ðŸŒ¼ ðŸŒ¼ ðŸŒ» ðŸ¶ ðŸ± ðŸ­ ðŸ¹ ðŸ» ðŸ¼ ðŸ¯ ðŸ® ðŸ· ðŸ½ ðŸ¸ ðŸµ ðŸ’ ðŸ” ðŸ§ ðŸ¦ ðŸ¤ ðŸ£ ðŸ¥ ðŸ¦† ðŸ¦… ðŸ¦‰ ðŸ¦‡ ðŸº ðŸ— ðŸ´ ðŸ¦„ ðŸ ðŸ› ðŸ¦‹ ðŸŒ ðŸž ðŸœ ðŸ¦Ÿ ðŸ¦— ðŸ•¸ ðŸ¦‚ ðŸ ðŸ¦Ž ðŸ¦– ðŸ¦• ðŸ™ ðŸ¦‘ ðŸ¦ ðŸ¦ž ðŸ¦€ ðŸ¡ ðŸ  ðŸŸ ðŸ¬ ðŸ³ ðŸ‹ ðŸ¦ˆ ðŸ… ðŸ† ðŸ¦“ ðŸ¦§ ðŸ¦› ðŸ¦ ðŸª ðŸ« ðŸ¦’ ðŸ¦˜ ðŸ‚ ðŸ„ ðŸŽ ðŸ– ðŸ ðŸ‘ ðŸ¦™ ðŸ ðŸ¦Œ ðŸ• ðŸ© ðŸ¦® ðŸ•â€ðŸ¦º ðŸ“ ðŸ“ ðŸ¦ƒ ðŸ¦š ðŸ¦œ ðŸ¦¢ ðŸ¦© ðŸ¦¨ ðŸ¦¡ ðŸ¦¦ ðŸ¦¥ ðŸ ðŸ€ ðŸ¿ ðŸ¾ ðŸ‰ ðŸ² ðŸš— ðŸš• ðŸš™ ðŸšŒ ðŸšŽ ðŸŽ ðŸš“ ðŸš‘ ðŸš’ ðŸš ðŸšš ðŸš› ðŸšœ ðŸ¦¼ ðŸ›´ ðŸš² ðŸ›µ ðŸ ðŸš¨ ðŸš” ðŸš ðŸš˜ ðŸš– ðŸš¡ ðŸš  ðŸšƒ ðŸš‹ ðŸš ðŸš„ ðŸš… ðŸšˆ ðŸš‚ ðŸš‡ âœˆï¸ ðŸ›« ðŸ›© ðŸ›° ðŸš€ ðŸ›¸ ðŸš ðŸ›¶ â›µï¸ ðŸš¤ ðŸ›¥ ðŸ›³ â›´ âš“ï¸ â›½ï¸ ðŸš¦ ðŸš¥ ðŸ—¿ ðŸ—º ðŸ—½ ðŸ—¼ ðŸ° ðŸ¯ ðŸŸ ðŸŽ¡ ðŸŽ¢ ðŸŽ  ðŸ– ðŸ ðŸŒ‹ â›° ðŸ—» â›ºï¸ ðŸ  ðŸ— ðŸ­ ðŸ¬ ðŸ£ ðŸ¥ ðŸ› ðŸ•Œ ðŸ›• â›© âš½ï¸ ðŸ€ ðŸˆ âš¾ï¸ ðŸ¥Ž ðŸŽ¾ ðŸ ðŸ‰ ðŸ“ ðŸ¸ ðŸ’ â›³ï¸ ðŸª ðŸ¹ ðŸ¤¿ ðŸ¥Š ðŸ›¹ â›¸ â›· ðŸ‚ ðŸª‚ ðŸ‹ðŸ» â›¹ðŸ»â€â™€ï¸ ðŸ§˜â€â™€ï¸ ðŸ„â€â™€ï¸ ðŸŠâ€â™€ï¸ ðŸš£ ðŸ§—â€â™€ï¸ ðŸš´â€â™€ï¸ ðŸ† ðŸ¥‡ ðŸ¥ˆ ðŸ… ðŸŽ– ðŸŽ— ðŸŽª ðŸŽ¨ ðŸŽ¬ ðŸŽ¤ ðŸŽ§ ðŸŽ¼ ðŸŽ¹ ðŸ¥ ðŸŽ· ðŸŽº ðŸŽ» ðŸŽ² ðŸŽ³ ðŸŽ® ðŸ§© ðŸ”¥ ðŸ’¥ â¤ï¸ ðŸŒŸ â­ï¸ âš¡ï¸ â—ï¸ ðŸŒˆ â˜€ï¸ âœ¨ ðŸ“ ðŸ‘‰ðŸ» âš ï¸ ðŸ‘ˆðŸ» ðŸ‘‡ ðŸ‘† â¬‡ï¸ â¬†ï¸ ðŸ’ª ðŸ‘Š âŒ ðŸ’¯ ðŸ”… âœ… âž¡ï¸ â¬…ï¸ â–¶ï¸ ðŸ ðŸŽ ðŸ ðŸŠ ðŸ‹ ðŸŒ ðŸ‰ ðŸ‡ ðŸ“ ðŸˆ ðŸ’ ðŸ‘ ðŸ¥­ ðŸ ðŸ¥¥ ðŸ¥ ðŸ… ðŸ† ðŸ¥‘ ðŸ¥¦ ðŸ¥¬ ðŸ¥’ ðŸŒ¶ ðŸŒ½ ðŸ¥• ðŸ§„ ðŸ§… ðŸ¥” ðŸ  ðŸ¥ ðŸ¥¯ ðŸž ðŸ¥– ðŸ¥¨ ðŸ§€ ðŸ¥š ðŸ³ ðŸ§ˆ ðŸ¥ž ðŸ§‡ ðŸ¥“ ðŸ¥© ðŸ— ðŸ– ðŸ¦´ ðŸŒ­ ðŸ” ðŸŸ ðŸ• ðŸ¥ª ðŸ¥™ ðŸ§† ðŸŒ® ðŸŒ¯ ðŸ¥— ðŸ¥˜ ðŸ¥« ðŸ ðŸœ ðŸ² ðŸ› ðŸ£ ðŸ± ðŸ¦ª ðŸ¦ª ðŸ¤ ðŸ™ ðŸš ðŸ˜ ðŸ¥ ðŸ¥  ðŸ¥® ðŸ¢ ðŸ¡ ðŸ§ ðŸ¨ ðŸ¦ ðŸ¥§ ðŸ§ ðŸ° ðŸŽ‚ ðŸ® ðŸ­ ðŸ¬ ðŸ« ðŸ¿ ðŸ© ðŸª ðŸŒ° ðŸ¥œ ðŸ¯ ðŸ¥› ðŸ¼ â˜•ï¸ ðŸ§ƒ ðŸ§ƒ ðŸ¥¤ ðŸ¶ ðŸº ðŸ» ðŸ¥‚ ðŸ· ðŸ¥ƒ ðŸ¸ ðŸ¹ ðŸ§‰ ðŸ¾ ðŸ¥„ ðŸ´ ðŸ½ ðŸ¥¢ ðŸ• ðŸ•‘ ðŸ•’ ðŸ•“ ðŸ•” ðŸ•• ðŸ•– ðŸ•™ ðŸ•š ðŸ•› ðŸ•œ ðŸ• ðŸ•ž ðŸ•ž ðŸ•Ÿ ðŸ•  ðŸ•¡ ðŸ•¢ ðŸ•£ ðŸ•¤ ðŸ•¥ ðŸ•¦ ðŸ•§ ðŸ“· ðŸ“½ ðŸŽž ðŸ“ž â˜Žï¸ ðŸ“º ðŸŽ™ â° â³ âŒ›ï¸ ðŸ“¡ ðŸ”‹ ðŸ”Œ ðŸ’¡ ðŸ•¯ ðŸ§¯ ðŸ’¸ ðŸ’µ ðŸ’° âš–ï¸ ðŸ›  ðŸ’£ ðŸ§¨ ðŸ§² âš°ï¸ ðŸš¬ ðŸ’Š ðŸ§¬ ðŸ¦  ðŸ©¸ ðŸ› ðŸ›Œ ðŸšª ðŸ”‘ ðŸŽ ðŸŽˆ ðŸŽ ðŸŽŠ ðŸŽ‰ ðŸŽŽ ðŸ§§ âœ‰ï¸ ðŸ“© ðŸ“¨ ðŸ· ðŸ“† ðŸ“… ðŸ—„ ðŸ—ž ðŸ“– ðŸ“° ðŸ“– ðŸ”– ðŸ“Œ ðŸ“ âœ‚ï¸ ðŸ” ðŸ”';
    const str2 = 'dgtetgaudhwiqutdi@^$@%?><"{::adagugdiAS}{+)~';

    const noEmoji2 = hasEmoji(str2);
    expect(noEmoji2).to.equal(false);

    const emojiArr1 = emojiStr.split(' ');
    const emojiArr2 = emojiTestText.split(' ');

    const random = Math.floor((Math.random() * 30) + 1);
    // Nç§emojiçš„è¯†åˆ«
    emojiArr1.forEach(u => {
      const newSource = str2.slice(0, random) + u + str2.slice(random);
      const add = matchEmoji(newSource, 'g');
      if (add) {
        const _bol = add[0] === u;
        expect(_bol).to.equal(true);
      }
    });

    let bol2 = true;
    emojiArr1.forEach(u => {
      const testStr = str2 + u;
      const _bol = getRegExpEmoji()?.test(testStr);
      !_bol && (bol2 = false);
    });
    expect(bol2).to.equal(true);

    // æµ‹è¯•æ——å¸œ
    const qz = matchEmoji('d$@%3âŒðŸš©ðŸ‡¨ðŸ‡³ðŸ‡¬ðŸ‡§ðŸ‡­ðŸ‡°ðŸ‡¸ðŸ‡¬ta', 'g');
    qz && expect(qz.join('')).to.equal('âŒðŸš©ðŸ‡¨ðŸ‡³ðŸ‡¬ðŸ‡§ðŸ‡­ðŸ‡°ðŸ‡¸ðŸ‡¬');

    // åŒ¹é…emoji-testçš„æ‰€æœ‰è¡¨æƒ…
    emojiTestArr.forEach(u => {
      const testStr = u + str2 + u;
      const add = matchEmoji(testStr, 'g');
      add && expect(add[0]).to.equal(u);
      add && expect(add[1]).to.equal(u);
    });

    let bol3 = true;
    emojiArr2.forEach(u => {
      const testStr = str2 + u;
      const _bol = getRegExpEmoji()?.test(testStr);
      !_bol && (bol3 = false);
    });
    expect(bol3).to.equal(true);

    emojiArr1.forEach(u => {
      const testStr = u + str2;
      testStr.replace(getRegExpEmoji() || '', (u) => {
        const num = testStr.search(u);
        expect(num).to.equal(0);
        return u;
      });
    });

    emojiArr2.forEach(u => {
      const testStr = u + str2;
      testStr.replace(getRegExpEmoji() || '', (u) => {
        const num = testStr.search(u);
        expect(num).to.equal(0);
        return u;
      });
    });
  });
});
